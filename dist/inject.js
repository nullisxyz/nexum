try{chrome.runtime.onMessage.addListener((e,i,d)=>{if(console.log("Payload from extension",e),e.type==="eth:payload"){const{type:o,...n}=e;window.postMessage({type:o,payload:n},window.location.origin)}e.type==="embedded:action"&&window.postMessage(e,window.location.origin),e.type==="eth:event"&&window.postMessage(e)}),window.addEventListener("message",e=>{e.source===window&&e.data&&e.data.type==="eth:send"&&chrome.runtime.sendMessage(e.data.payload)});const t=document.createElement("script");t.setAttribute("type","text/javascript"),t.src=chrome.runtime.getURL("frame.js"),t.type="module",t.onload=function(){t.parentNode.removeChild(t)},(document.head||document.documentElement).appendChild(t)}catch(t){console.log(t)}
